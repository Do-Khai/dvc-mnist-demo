schema: '2.0'
stages:
  download_v1:
    cmd: python scripts/download_v1.py
    deps:
    - path: scripts/download_v1.py
      hash: md5
      md5: 76c36b895bab759b3f4c820102174ccf
      size: 457
    outs:
    - path: data/raw/x_test.npy
      hash: md5
      md5: 7942b66f2197f22a8ed486c6bc205255
      size: 7840128
    - path: data/raw/x_train_v1.npy
      hash: md5
      md5: 6e5236d1fa7110b7d4c75d3822137908
      size: 47040128
    - path: data/raw/y_test.npy
      hash: md5
      md5: 3deb6f9de60479b947785b62051694b8
      size: 10128
    - path: data/raw/y_train_v1.npy
      hash: md5
      md5: 40b22dba779a1dffd8089edc7991f797
      size: 60128
  download_v2:
    cmd: python scripts/download_v2.py
    deps:
    - path: data/raw/x_train_v1.npy
      hash: md5
      md5: 6e5236d1fa7110b7d4c75d3822137908
      size: 47040128
    - path: data/raw/y_train_v1.npy
      hash: md5
      md5: 40b22dba779a1dffd8089edc7991f797
      size: 60128
    - path: scripts/download_v2.py
      hash: md5
      md5: 8fb261ea30cd1154b4a50cd3632ae82c
      size: 515
    outs:
    - path: data/raw/x_train_v2.npy
      hash: md5
      md5: b7c1f1c27bf7f49845ff383a557567f8
      size: 784128
    - path: data/raw/y_train_v2.npy
      hash: md5
      md5: b0ccab896dfde982841a478771f20009
      size: 1128
  train_v1:
    cmd: python scripts/train.py --version v1
    deps:
    - path: data/raw/x_test.npy
      hash: md5
      md5: 7942b66f2197f22a8ed486c6bc205255
      size: 7840128
    - path: data/raw/x_train_v1.npy
      hash: md5
      md5: 6e5236d1fa7110b7d4c75d3822137908
      size: 47040128
    - path: data/raw/y_test.npy
      hash: md5
      md5: 3deb6f9de60479b947785b62051694b8
      size: 10128
    - path: data/raw/y_train_v1.npy
      hash: md5
      md5: 40b22dba779a1dffd8089edc7991f797
      size: 60128
    - path: scripts/train.py
      hash: md5
      md5: f7b2888f4570b39080eed08ce167194d
      size: 1636
    outs:
    - path: models/metrics_v1.json
      hash: md5
      md5: 9578c94bb8f10a8edc3fafe23f429dc6
      size: 99
    - path: models/model_v1.npy
      hash: md5
      md5: c8d6b5b17a2413d411bb67d8a1b56074
      size: 2406882
  train_v2:
    cmd: python scripts/train.py --version v2
    deps:
    - path: data/raw/x_test.npy
      hash: md5
      md5: 7942b66f2197f22a8ed486c6bc205255
      size: 7840128
    - path: data/raw/x_train_v2.npy
      hash: md5
      md5: b7c1f1c27bf7f49845ff383a557567f8
      size: 784128
    - path: data/raw/y_test.npy
      hash: md5
      md5: 3deb6f9de60479b947785b62051694b8
      size: 10128
    - path: data/raw/y_train_v2.npy
      hash: md5
      md5: b0ccab896dfde982841a478771f20009
      size: 1128
    - path: scripts/train.py
      hash: md5
      md5: f7b2888f4570b39080eed08ce167194d
      size: 1636
    outs:
    - path: models/metrics_v2.json
      hash: md5
      md5: 42b3b5c4201e4d765b96470ad30c5952
      size: 98
    - path: models/model_v2.npy
      hash: md5
      md5: 9850555d8617f4af1b60cc2ef1e16f25
      size: 488388
  train_${data_version}@v1:
    cmd: python scripts/train.py --version v1
    deps:
    - path: data/raw/x_test.npy
      hash: md5
      md5: 7942b66f2197f22a8ed486c6bc205255
      size: 7840128
    - path: data/raw/x_train_v1.npy
      hash: md5
      md5: 6e5236d1fa7110b7d4c75d3822137908
      size: 47040128
    - path: data/raw/y_test.npy
      hash: md5
      md5: 3deb6f9de60479b947785b62051694b8
      size: 10128
    - path: data/raw/y_train_v1.npy
      hash: md5
      md5: 40b22dba779a1dffd8089edc7991f797
      size: 60128
    - path: scripts/train.py
      hash: md5
      md5: c26ccc86755216591cb8be6041214315
      size: 1992
    params:
      params.yaml:
        model:
          type: RandomForest
          n_estimators: 10
          max_depth: 10
          random_state: 42
    outs:
    - path: models/metrics_v1.json
      hash: md5
      md5: 455367a47616d27b57a52a8c53d92561
      size: 218
    - path: models/model_v1.npy
      hash: md5
      md5: c8d6b5b17a2413d411bb67d8a1b56074
      size: 2406882
  train_${data_version}@v2:
    cmd: python scripts/train.py --version v2
    deps:
    - path: data/raw/x_test.npy
      hash: md5
      md5: 7942b66f2197f22a8ed486c6bc205255
      size: 7840128
    - path: data/raw/x_train_v2.npy
      hash: md5
      md5: b7c1f1c27bf7f49845ff383a557567f8
      size: 784128
    - path: data/raw/y_test.npy
      hash: md5
      md5: 3deb6f9de60479b947785b62051694b8
      size: 10128
    - path: data/raw/y_train_v2.npy
      hash: md5
      md5: b0ccab896dfde982841a478771f20009
      size: 1128
    - path: scripts/train.py
      hash: md5
      md5: c26ccc86755216591cb8be6041214315
      size: 1992
    params:
      params.yaml:
        model:
          type: RandomForest
          n_estimators: 10
          max_depth: 10
          random_state: 42
    outs:
    - path: models/metrics_v2.json
      hash: md5
      md5: 3de3a84759bd6843046ea17867d92009
      size: 217
    - path: models/model_v2.npy
      hash: md5
      md5: 9850555d8617f4af1b60cc2ef1e16f25
      size: 488388
